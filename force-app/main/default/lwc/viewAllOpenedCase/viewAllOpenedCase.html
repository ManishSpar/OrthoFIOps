<template>
  <article class="slds-card">
    <div class="slds-card__header slds-grid">
      <header class="slds-media slds-media_center slds-has-flexi-truncate">
        <div class="slds-media__figure">
          <span class="slds-icon_container slds-icon-standard-case" title="Case">
            <lightning-icon icon-name="standard:case" alternative-text="Case" title="Case"></lightning-icon>
            <span class="slds-assistive-text">Cases</span>
          </span>
        </div>
        <div class="slds-media__body">
          <h2 class="slds-card__header-title">
            <a href="#" class="slds-card__header-link slds-truncate" title="case">
              <span>Cases</span>
            </a>
          </h2>
        </div>
        <div class="slds-no-flex slds-m-around_medium">
          <lightning-button type="New" class="slds-p-around_small" variant="brand-outline" label="New" onclick={createcase}></lightning-button>
          
          <lightning-button-icon icon-name="utility:filterList" size="large"  onclick={handleFilterClick} title="filter"></lightning-button-icon>
        </div>
      </header>
    </div>
    <lightning-card>
      <div class="slds-m-around_medium">
        <template if:true={showFilter}>
        <lightning-layout>
                <lightning-layout-item size="3"  padding="around-small">
        <lightning-input  label="Search with Patient Name" type="Search" onchange={searchCase} class="slds-size_1-of-2" placeholder="Search by Patient Name" value={searchKey}></lightning-input>
    
      </lightning-layout-item>
      <lightning-layout-item size="3" padding="around-small">
        <lightning-combobox class="slds-size_1-of-2"
            options={statusPicklists}
            label="Filter By Status"
            value={statusValue}
            placeholder="Select Status"
            data-id="status"
            onchange={filterChange}>
        </lightning-combobox>
        </lightning-layout-item>
      </lightning-layout>
    </template>
    </div>

      <lightning-datatable 
      data={opencases} 
      columns={columns}
       key-field="Id"
       onsort={sortColumns}
       sorted-by={sortedBy}
       sorted-direction={sortedDirection}
       hide-checkbox-column="true"></lightning-datatable>
    </lightning-card>
  </article>
</template>